<canvas id="ctx" width="500" height="500" style="border: 1px solid green"></canvas>

<script src="/socket.io/socket.io.js"></script>
<script>
    var ctx = document.getElementById("ctx").getContext("2d");
    ctx.font = "30px Arial"

    const socket = io();

  //recieve from the server
    socket.on("newPositions", function(data){
        ctx.clearRect(0,0,500,500)
        for(var i = 0; i < data.length; i++){
        ctx.fillText(data[i].number, data[i].x, data[i].y)
        }
    })

    //send to the server
    document.onkeydown = (event) => {
      if (event.keyCode === 87) socket.emit("keyPress", {inputId:"up", state: true}); // w
      else if (event.keyCode === 83) socket.emit("keyPress", {inputId:"down", state: true}); // s
      else if (event.keyCode === 68) socket.emit("keyPress", {inputId:"right", state: true}); // d
      else if (event.keyCode === 65) socket.emit("keyPress", {inputId:"left", state: true}); // a
    }
    document.onkeyup = (event) => {
      if (event.keyCode === 87) socket.emit("keyPress", {inputId:"up", state: false}); // w
      else if (event.keyCode === 83) socket.emit("keyPress", {inputId:"down", state: false}); // s
      else if (event.keyCode === 68) socket.emit("keyPress", {inputId:"right", state: false}); // d
      else if (event.keyCode === 65) socket.emit("keyPress", {inputId:"left", state: false}); // a
    }
  </script>
